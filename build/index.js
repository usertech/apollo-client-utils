(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('@usertech/apollo-client-utils',[],b):'object'==typeof exports?exports['@usertech/apollo-client-utils']=b():a['@usertech/apollo-client-utils']=b()})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a){a.exports=require('apollo-cache-inmemory')},function(a){a.exports=require('apollo-link')},function(a,b,c){a.exports=c(3)},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}Object.defineProperty(b,'__esModule',{value:!0});var e=c(4),f=c.n(e),g=c(0),h=c.n(g),i=c(1),j=c.n(i),k=c(5),l=c.n(k);const m=l.a`
	query IntrospectionFragmentMatcherQuery {
		__schema {
			types {
				kind
				name
				possibleTypes {
					name
				}
			}
		}
	}
`;var n=({link:a})=>new Promise(function(b,c){let d,e;return Promise.resolve(Object(i.makePromise)(Object(i.execute)(a,{query:m}))).then(function(a){try{return d=a,e={__schema:{types:d.data.__schema.types.filter((a)=>null!==a.possibleTypes)}},b(new g.IntrospectionFragmentMatcher({introspectionQueryResultData:e}))}catch(a){return c(a)}},c)}),o=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};var p=({link:a,useIntrospectionFragmentMatcher:b=!1})=>new Promise(function(c,d){function f(){return i=new g.InMemoryCache(h),c(new e.ApolloClient({link:a,cache:i}))}let h,i;return h={},b?Promise.resolve(n({link:a})).then(function(a){try{return h=o({},h,{fragmentMatcher:a}),f.call(this)}catch(a){return d(a)}}.bind(this),d):f.call(this)}),q=c(6),r=c.n(q),s=c(7),t=c.n(s);var u=(a)=>{var b=a.defaultOperationDelay;let c=b===void 0?500:b;var e=a.operationsDelays;let f=e===void 0?{IntrospectionFragmentMatcherQuery:1200}:e,g=a.mocks,h=a.preserveResolvers,j=d(a,['defaultOperationDelay','operationsDelays','mocks','preserveResolvers']);const k=Object(s.makeExecutableSchema)(j);Object(s.addMockFunctionsToSchema)({schema:k,mocks:g,preserveResolvers:h});const l=new q.SchemaLink({schema:k,context:({getContext:a})=>a()}),m=new i.ApolloLink((a,b)=>{const d=a.operationName,e=f[d],g='undefined'==typeof e?c:e;return new i.Observable((c)=>{let d;return setTimeout(()=>{d=b(a).subscribe({next:c.next.bind(c),error:c.error.bind(c),complete:c.complete.bind(c)})},g),()=>{d&&d.unsubscribe()}})});return i.ApolloLink.from([m,l])};c.d(b,'createDefaultApolloClient',function(){return p}),c.d(b,'createIntrospectionFragmentMatcher',function(){return n}),c.d(b,'createMockLink',function(){return u})},function(a){a.exports=require('apollo-client')},function(a){a.exports=require('graphql-tag')},function(a){a.exports=require('apollo-link-schema')},function(a){a.exports=require('graphql-tools')}])});
//# sourceMappingURL=index.js.map